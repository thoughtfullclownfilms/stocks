(this.webpackJsonpstockapp=this.webpackJsonpstockapp||[]).push([[0],{206:function(e,t,a){},258:function(e,t,a){e.exports=a(538)},263:function(e,t,a){},264:function(e,t,a){},269:function(e,t,a){},287:function(e,t,a){},538:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(12),o=a.n(c),l=(a(263),a(264),a(10)),i=a(51),s=a(565),u=a(567),p=a(569),d=a(94),m=a(570),f=Object(s.a)((function(e){return{root:{flexGrow:1},title:{marginRight:e.spacing(2),flexGrow:1}}})),E=function(e){var t=e.hideButton,a=f();return r.a.createElement(i.a,{basename:"/"},r.a.createElement(u.a,{position:"sticky",style:{background:"black"}},r.a.createElement(p.a,null,r.a.createElement(d.a,{variant:"h6",className:a.title},r.a.createElement(i.b,{to:"/"},"My LOGO")),r.a.createElement(m.a,{color:"inherit",hidden:t,onClick:function(e){window.localStorage.clear(),window.location.reload()},style:{width:"10px"}},"Logout"))))},v=(a(269),a(223)),b=a(5),h=a(577),y=a(572),g=a(571),k=(a(287),a(32)),x=a(16),_=a.n(x),w=(a(132),function(e){var t,a,n,r;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.url,a=e.method,n=e.bodyParams,c.next=3,_.a.awrap(fetch(t,{method:a,headers:{Accept:"application/json","Content-Type":"application/json"},body:n?JSON.stringify(n):void 0}));case 3:return r=c.sent,c.next=6,_.a.awrap(r.json());case 6:return c.abrupt("return",c.sent);case 7:case"end":return c.stop()}}))}),j=a(26);a(206);function O(e){var t=e.date,a=e.index,n=e.type,c=e.ce,o=e.pe,i=r.a.useState([]),s=Object(l.a)(i,2),u=s[0],p=s[1],d=r.a.useState([]),m=Object(l.a)(d,2),f=m[0],E=m[1];r.a.useEffect((function(){var e=function(){var e,r,l,i,s,u,p,d,m,f,v,b,h,y,g,k,x,j,O,S,P,C,N;return _.a.async((function(T){for(;;)switch(T.prev=T.next){case 0:return T.prev=0,T.next=3,_.a.awrap(w({url:"https://api.optionalgo.in:6001/v1/getdata",method:"post",bodyParams:{date:t,pointtype:n,stockname:a,strike_price_pe:o,strike_price_ce:c}}));case 3:if(e=T.sent,r=e.data,l=e.success,console.log(e),l){for(i=[],s=0;s<r.length;s++)for(u=r[s],p=u.time_hour_m_in_sec,d=u.indexprice,m=u.stock,f=0;f<m.length;f++)v={},"Both"!==n?(b=m[f],h=b.last_price,y=b.oi,g=b.expiry,k=b.strike_price,x=b.instrument_type,v={id:p,time:p,indexprice:d,last_price:h.toFixed(2),oi:y,expiry:g,strike_price:k,instrument_type:x}):(j=m[f],O=j.last_price,S=j.oi,P=j.strike_price_pe,C=j.strike_price_ce,N=j.instrument_type,v={id:i.length,time:p,last_price:O.toFixed(2),indexprice:d,oi:S,strike_price_ce:C,strike_price_pe:P,instrument_type:N}),0===f&&(console.log(i),i.push(v));E(i)}T.next=11;break;case 9:T.prev=9,T.t0=T.catch(0);case 11:case"end":return T.stop()}}),null,null,[[0,9]])};e();var r=setInterval((function(){e()}),6e4);return function(){return clearInterval(r)}}),[t,a,n,c,o]),r.a.useEffect((function(){p([]),E([])}),[t,a,n,c,o]),r.a.useEffect((function(){!function(){if(0===u.length)p(f);else for(var e=u.length;e<f.length;e++)p([].concat(Object(k.a)(u),[f[e]]))}()}),[f,u]);return r.a.createElement("div",null,r.a.createElement(j.c,{width:1e3,height:400,data:u,margin:{top:5,right:20,bottom:5,left:0}},r.a.createElement(j.b,{type:"monotone",dataKey:"last_price",stroke:"#8884d8"}),r.a.createElement(j.a,{stroke:"#ccc",strokeDasharray:"5 5"}),r.a.createElement(j.e,{dataKey:"time"}),r.a.createElement(j.f,{type:"number",allowDecimals:!0,allowDataOverflow:!0,domain:["dataMin-10","dataMax+10 "]}),r.a.createElement(j.d,{content:function(e){return e.active&&null!=e.payload&&null!=e.payload[0]&&"Both"!==n?r.a.createElement("div",{className:"custom-tooltip"},r.a.createElement("p",null,e.payload[0].payload.time),r.a.createElement("p",null,e.payload[0].payload.last_price),r.a.createElement("p",null,e.payload[0].payload.strike_price),r.a.createElement("p",null,e.payload[0].payload.indexprice)):e.active&&null!=e.payload&&null!=e.payload[0]&&"Both"===n?r.a.createElement("div",{className:"customTooltip"},r.a.createElement("div",{className:"tooltipContent"},r.a.createElement("p",null,"LTP: ",e.payload[0].payload.last_price),r.a.createElement("p",null,"Puts Price: ",e.payload[0].payload.strike_price_pe),r.a.createElement("p",null,"Call Price: ",e.payload[0].payload.strike_price_ce),r.a.createElement("p",null,"Time: ",e.payload[0].payload.time))):""}})))}function S(e){var t=e.children,a=e.value,n=e.index,c=e.date,o=e.indexType,l=e.ce,i=e.pe,s=Object(b.a)(e,["children","value","index","date","indexType","ce","pe"]);return r.a.createElement(d.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},s),a===n&&r.a.createElement(g.a,{p:3,style:{marginTop:"10px"}},r.a.createElement(O,{date:c,index:o,type:t,ce:l,pe:i})))}var P=Object(s.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));function C(e){var t=e.date,a=e.index,n=e.cePrice,c=e.pePrice,o=P(),i=r.a.useState(0),s=Object(l.a)(i,2),p=s[0],d=s[1];return""!==t&&""!==a&&0!==n&&0!==c?(console.log(t),console.log(" "!==t),r.a.createElement("div",{className:o.root},r.a.createElement(u.a,{position:"static",style:{justifyContent:"center"},color:"default"},r.a.createElement(h.a,{value:p,onChange:function(e,t){d(t)},variant:"scrollable",style:{justifyContent:"center"},scrollButtons:"off",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs example"},r.a.createElement(y.a,Object.assign({label:"CALL+PUTS"},function(e){return{id:"scrollable-force-tab-".concat(e),"aria-controls":"scrollable-force-tabpanel-".concat(e)}}(0))))),r.a.createElement(S,{value:p,date:t,indexType:a,ce:n,pe:c,index:0},"Both"),r.a.createElement(S,{value:p,date:t,indexType:a,ce:n,index:1},"CE"),r.a.createElement(S,{value:p,date:t,indexType:a,pe:c,index:2},"PE"))):r.a.createElement("div",null)}var N=a(573),T=a(541),B=a(574),I=a(575),D=a(576),M=Object(s.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function L(e){var t=e.changeDate,a=M(),n=r.a.useState(null),c=Object(l.a)(n,2),o=c[0],i=c[1],s=r.a.useState(1),u=Object(l.a)(s,2),p=u[0],d=u[1],m=r.a.useState([]),f=Object(l.a)(m,2),E=f[0],v=f[1];r.a.useEffect((function(){b()}),[]);var b=function(){var e,t,a;return _.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.a.awrap(w({url:"https://api.optionalgo.in:6001/v1/getdates",method:"post",bodyParams:{}}));case 3:e=n.sent,t=e.data,a=e.success,console.log(e),a&&v(t),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),null,null,[[0,9]])};return r.a.createElement("div",{className:a.root},r.a.createElement(N.a,{component:"nav","aria-label":"Device settings"},r.a.createElement(T.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Select Date",onClick:function(e){i(e.currentTarget)}},r.a.createElement(B.a,{primary:"Select Date",secondary:E[p]}))),r.a.createElement(D.a,{id:"lock-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){i(null)}},E.map((function(e,a){return r.a.createElement(I.a,{key:e,selected:a===p,onClick:function(e){return function(e,a){d(a),console.log(a),t(E[a]),i(null)}(0,a)}},e)}))))}var K=Object(s.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function W(e){var t=e.changeIndex,a=K(),n=r.a.useState(null),c=Object(l.a)(n,2),o=c[0],i=c[1],s=r.a.useState(),u=Object(l.a)(s,2),p=u[0],d=u[1],m=["NIFTY","BANKNIFTY"];return r.a.createElement("div",{className:a.root},r.a.createElement(N.a,{component:"nav","aria-label":"Device settings"},r.a.createElement(T.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Select Index",onClick:function(e){i(e.currentTarget)}},r.a.createElement(B.a,{primary:"Select Index",secondary:m[p]}))),r.a.createElement(D.a,{id:"lock-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){i(null)}},m.map((function(e,a){return r.a.createElement(I.a,{key:e,selected:a===p,onClick:function(e){return function(e,a){d(a),console.log(a),t(m[a]),i(null)}(0,a)}},e)}))))}var A=Object(s.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function F(e){var t=e.strikeprice,a=e.strikeprice2,n=e.date,c=e.index,o=e.type,i=A(),s=r.a.useState(null),u=Object(l.a)(s,2),p=u[0],d=u[1],m=r.a.useState(1),f=Object(l.a)(m,2),E=f[0],v=f[1],b=r.a.useState([]),h=Object(l.a)(b,2),y=h[0],g=h[1];r.a.useEffect((function(){!function(){var e,t,a;_.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,_.a.awrap(w({url:"https://api.optionalgo.in:6001/v1/getstrikeprices",method:"post",bodyParams:{date:n,pointtype:o,stockname:c}}));case 3:e=r.sent,t=e.data,a=e.success,console.log(e),a&&g(t),r.next=11;break;case 9:r.prev=9,r.t0=r.catch(0);case 11:case"end":return r.stop()}}),null,null,[[0,9]])}()}),[n,c,o]);return""!==n&&""!==c?r.a.createElement("div",{className:i.root},r.a.createElement(N.a,{component:"nav","aria-label":"Device settings"},r.a.createElement(T.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Select "+o+" Price",onClick:function(e){d(e.currentTarget)}},r.a.createElement(B.a,{primary:"Select "+o+" Price",secondary:y[E]}))),r.a.createElement(D.a,{id:"lock-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:function(){d(null)}},y.map((function(e,n){return r.a.createElement(I.a,{key:e,selected:n===E,onClick:function(e){return function(e,n){v(n),console.log(n),console.log(y[n]),t&&t(y[n]),a&&a(y[n]),d(null)}(0,n)}},e)})))):r.a.createElement("div",null)}function G(e){var t=e.date,a=e.index,n=e.sPrice,c=e.lPrice,o=r.a.useState([]),i=Object(l.a)(o,2),s=i[0],u=i[1],p=r.a.useState([]),d=Object(l.a)(p,2),m=d[0],f=d[1];return r.a.useEffect((function(){u([]),f([])}),[a,t]),r.a.useEffect((function(){var e=function(){var e,r,o,l,i,s,u;return _.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,console.log(t,a),p.next=4,_.a.awrap(w({url:"https://api.optionalgo.in:6001/v1/getdata",method:"post",bodyParams:{date:t,pointtype:"CE",stockname:a}}));case 4:if(e=p.sent,r=e.data,e.success){for(o=[],l=0;l<r.length;l++)i=r[l],s=i.time_hour_m_in_sec,u=i.indexprice,0===l&&n(u),l===r.length-1&&c(u),o.push({time:s,price:u});f(o)}p.next=11;break;case 9:p.prev=9,p.t0=p.catch(0);case 11:case"end":return p.stop()}}),null,null,[[0,9]])};e();var r=setInterval((function(){e()}),6e4);return function(){return clearInterval(r)}}),[t,a,n,c]),r.a.useEffect((function(){!function(){if(0===s.length)u(m);else for(var e=s.length;e<m.length;e++)u([].concat(Object(k.a)(s),[m[e]]))}()}),[m,s]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("br",null)),r.a.createElement(j.c,{width:1e3,height:400,data:s,margin:{top:5,right:20,bottom:5,left:20}},r.a.createElement(j.b,{type:"monotone",dataKey:"price",stroke:"#8884d8"}),r.a.createElement(j.a,{stroke:"#ccc",strokeDasharray:"5 5"}),r.a.createElement(j.e,{dataKey:"time"}),r.a.createElement(j.f,{type:"number",domain:["dataMin-50","dataMax+50 "]}),r.a.createElement(j.d,null)))}var J=Object(s.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},position:"fixed",right:"5%",top:"25%",bottom:"auto",left:"auto",borderStyle:"groove",border:"gold",background:"black",color:"white"},extendedIcon:{marginRight:e.spacing(1)}}}));function R(e){var t=e.startPrice,a=e.lastPrice,n=(e.index,J());return r.a.createElement("div",{className:n.root},r.a.createElement("div",null,r.a.createElement("h6",null,r.a.createElement("div",{style:{color:"green"}},"Start Price:")," ",t),r.a.createElement("h6",null,r.a.createElement("div",{style:{color:"green"}},"Last Price:")," ",a)))}var Y=function(){var e=r.a.useState(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=r.a.useState(""),o=Object(l.a)(c,2),i=o[0],s=o[1],p=r.a.useState(0),d=Object(l.a)(p,2),m=d[0],f=d[1],b=r.a.useState(0),h=Object(l.a)(b,2),y=h[0],g=h[1],k=r.a.useState(0),x=Object(l.a)(k,2),_=x[0],w=x[1],j=r.a.useState(0),O=Object(l.a)(j,2),S=O[0],P=O[1];return r.a.createElement("div",{className:"home-body"},r.a.createElement(E,{hideButton:!0}),r.a.createElement(v.d,{className:" mt-5 pt-5"},r.a.createElement(u.a,{position:"static",style:{display:"flex",justifyContent:"center"},color:"default"},r.a.createElement("div",{className:"drop"},r.a.createElement(L,{changeDate:function(e){n(e),console.log(a)}}),r.a.createElement(W,{changeIndex:function(e){s(e),console.log(i)}}),""!==a&&""!==i?r.a.createElement(F,{strikeprice:function(e){g(e),console.log(y)},date:a,index:i,type:"PE"}):null,""!==a&&""!==i?r.a.createElement(F,{strikeprice2:function(e){f(e),console.log(m)},date:a,index:i,type:"CE"}):null)),0!==_&&0!==S?r.a.createElement(R,{startPrice:_,lastPrice:S,index:i}):null,""!==a&&""!==i&&0!==m&&0!==y?r.a.createElement(C,{date:a,index:i,pePrice:y,cePrice:m}):null,""!==a&&""!==i?r.a.createElement(G,{date:a,index:i,sPrice:function(e){w(e)},lPrice:function(e){P(e)}}):null))};var U=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(535),a(536),a(537);o.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[258,1,2]]]);
//# sourceMappingURL=main.99bc37ba.chunk.js.map