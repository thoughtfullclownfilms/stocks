(this.webpackJsonpstockapp=this.webpackJsonpstockapp||[]).push([[0],{205:function(e,a,t){},260:function(e,a,t){e.exports=t(538)},265:function(e,a,t){},266:function(e,a,t){},267:function(e,a,t){},289:function(e,a,t){},538:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(12),c=t.n(r),o=(t(265),t(266),t(27)),i=t(11),s=(t(267),t(228)),p=(t(4),t(579)),u=(t(577),t(578)),d=(t(289),t(17)),m=t.n(d),y=(t(133),function(e){var a,t,n,l;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.url,t=e.method,n=e.bodyParams,r.next=3,m.a.awrap(fetch(a,{method:t,headers:{Accept:"application/json","Content-Type":"application/json"},body:n?JSON.stringify(n):void 0}));case 3:return l=r.sent,r.next=6,m.a.awrap(l.json());case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}))}),E=t(15),f=(t(205),t(570)),h=t(582),g=t(576),v=t(62),b=t.n(v);function k(e){var a=e.date,t=e.index,n=e.type,r=e.ce,c=e.pe,s=l.a.useState([]),p=Object(i.a)(s,2),u=p[0],d=p[1],v=l.a.useState([]),k=Object(i.a)(v,2),x=k[0],_=k[1],w=l.a.useState(21),P=Object(i.a)(w,2),O=P[0],C=P[1],j=l.a.useState(21),N=Object(i.a)(j,2),S=N[0],I=N[1];l.a.useEffect((function(){var e=function(){var e,l,o,i,s,p,u,d,E,f,h,g,v,b,k,x,w,P,C,j,N,S,I,T,D,B,F,K,L;return m.a.async((function(W){for(;;)switch(W.prev=W.next){case 0:return W.prev=0,W.next=3,m.a.awrap(y({url:"https://api.optionalgo.in:6001/v1/getdata",method:"post",bodyParams:{date:a,pointtype:n,stockname:t,strike_price_pe:c,strike_price_ce:r}}));case 3:if(e=W.sent,l=e.data,e.success){for(o=[],i=0,s=0,p=O,console.log(l.length),u=0;u<l.length;u++)for(d=l[u],E=d.time_hour_m_in_sec,f=d.indexprice,h=d.stock,g=0;g<h.length;g++)v={},"Both"!==n?(b=h[g],k=b.last_price,x=b.oi,w=b.expiry,P=b.strike_price,C=b.instrument_type,v={id:E,time:E,indexprice:f,last_price:k.toFixed(2),oi:x,expiry:w,strike_price:P,instrument_type:C}):(j=h[g],N=j.last_price,S=j.oi,I=j.oice,T=j.oipe,D=j.strike_price_pe,B=j.strike_price_ce,F=j.last_price_ce,K=j.last_price_pe,L=j.instrument_type,0===O?(i=f.toFixed(2),s=f.toFixed(2)):p===O||0===p?(p=O,i=N.toFixed(2),s=N.toFixed(2),p-=1):(N>i&&(i=N.toFixed(2)),N<s&&(s=N.toFixed(2)),p-=1),v={id:o.length,time:E,last_price:N,indexprice:f,oi:S,oice:I,oipe:T,strike_price_ce:B,strike_price_pe:D,last_price_ce:F,last_price_pe:K,instrument_type:L,height:[s,i]}),o.push(v);_([].concat(o))}W.next=11;break;case 8:W.prev=8,W.t0=W.catch(0),console.log(W.t0);case 11:case"end":return W.stop()}}),null,null,[[0,8]])};e();var l=setInterval((function(){e()}),6e4);return function(){return clearInterval(l)}}),[a,t,n,r,c,O]),l.a.useEffect((function(){d([]),_([])}),[a,t,n,r,c,O]),l.a.useEffect((function(){!function(){if(0===u.length)d(x);else for(var e=u.length;e<x.length;e++)d([].concat(Object(o.a)(u),[x[e]]))}()}),[x,u]);return l.a.createElement("div",null,l.a.createElement(E.e,{width:1e3,height:400},l.a.createElement(E.c,{width:1e3,height:400,data:u,margin:{top:5,right:20,bottom:5,left:0}},O>=2?l.a.createElement(E.a,{dataKey:"height",stroke:"#8884d8",fill:"#8884d8"}):null,l.a.createElement(E.d,{type:"monotone",dataKey:"last_price",stroke:"#8884d8"}),l.a.createElement(E.b,{stroke:"#ccc",strokeDasharray:"5 5"}),l.a.createElement(E.g,{dataKey:"time"}),l.a.createElement(E.h,{type:"number",allowDecimals:!0,allowDataOverflow:!0,domain:["dataMin-10","dataMax+10"]}),l.a.createElement(E.f,{content:function(e){return e.active&&null!=e.payload&&null!=e.payload[0]&&"Both"!==n?l.a.createElement("div",{className:"custom-tooltip"},l.a.createElement("p",null,e.payload[0].payload.time),l.a.createElement("p",null,e.payload[0].payload.last_price),l.a.createElement("p",null,e.payload[0].payload.strike_price),l.a.createElement("p",null,e.payload[0].payload.indexprice)):e.active&&null!=e.payload&&null!=e.payload[0]&&"Both"===n?l.a.createElement("div",{className:"customTooltip"},l.a.createElement("div",{className:"tooltipContent"},l.a.createElement("p",null,"LTP: ",e.payload[0].payload.last_price),l.a.createElement("p",null,"Puts Last Price: ",e.payload[0].payload.last_price_pe),l.a.createElement("p",null,"Call Last Price: ",e.payload[0].payload.last_price_ce),l.a.createElement("p",null,"OI: ",e.payload[0].payload.oi),l.a.createElement("p",null,"Puts Price: ",e.payload[0].payload.strike_price_pe),l.a.createElement("p",null,"Call Price: ",e.payload[0].payload.strike_price_ce),l.a.createElement("p",null,"Time: ",e.payload[0].payload.time),l.a.createElement("p",null,"Low: ",e.payload[0].payload.height[0]),l.a.createElement("p",null,"Peak: ",e.payload[0].payload.height[1]))):""}}))),l.a.createElement("div",null,l.a.createElement(f.a,{variant:"outlined",style:{display:"flex",flexDirection:"row",justifyContent:"center"}},l.a.createElement(h.a,{id:"outlined-basic",label:"Points",variant:"outlined",defaultValue:21,onChange:function(e){I(e.target.value)},style:{padding:"1%"}}),l.a.createElement(g.a,{color:"primary","aria-label":"add",onClick:function(){C(S)},style:{padding:"1%"}},l.a.createElement(b.a,{onClick:function(){C(S)}}))),l.a.createElement(E.e,{width:1e3,height:400},l.a.createElement(E.c,{width:1e3,height:400,data:u,margin:{top:5,right:20,bottom:5,left:0}},l.a.createElement(E.d,{type:"monotone",dataKey:"oi",stroke:"#fb3a1c"}),l.a.createElement(E.b,{stroke:"#ccc",strokeDasharray:"5 5"}),l.a.createElement(E.g,{dataKey:"time"}),l.a.createElement(E.h,{type:"number",allowDecimals:!0,allowDataOverflow:!0,domain:["dataMin-10","dataMax+10"]}),l.a.createElement(E.f,{content:function(e){return e.active&&null!=e.payload&&null!=e.payload[0]&&"Both"!==n?l.a.createElement("div",{className:"custom-tooltip"},l.a.createElement("p",null,e.payload[0].payload.time),l.a.createElement("p",null,e.payload[0].payload.last_price),l.a.createElement("p",null,e.payload[0].payload.strike_price),l.a.createElement("p",null,e.payload[0].payload.indexprice)):e.active&&null!=e.payload&&null!=e.payload[0]&&"Both"===n?l.a.createElement("div",{className:"customTooltip"},l.a.createElement("div",{className:"tooltipContent"},l.a.createElement("p",null,"LTP: ",e.payload[0].payload.last_price),l.a.createElement("p",null,"OI: ",e.payload[0].payload.oi),l.a.createElement("p",null,"Puts OI: ",e.payload[0].payload.oipe),l.a.createElement("p",null,"Call OI: ",e.payload[0].payload.oice),l.a.createElement("p",null,"Puts Price: ",e.payload[0].payload.strike_price_pe),l.a.createElement("p",null,"Call Price: ",e.payload[0].payload.strike_price_ce),l.a.createElement("p",null,"Time: ",e.payload[0].payload.time),l.a.createElement("p",null,"Low: ",e.payload[0].payload.height[0]),l.a.createElement("p",null,"Peak: ",e.payload[0].payload.height[1]))):""}})))))}var x=Object(p.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));function _(e){var a=e.date,t=e.index,n=e.cePrice,r=e.pePrice,c=x();return""!==a&&""!==t&&0!==n&&0!==r?(console.log(a),console.log(" "!==a),l.a.createElement("div",{className:c.root},l.a.createElement(u.a,{p:3,style:{marginTop:"10px"}},l.a.createElement(k,{date:a,index:t,type:"Both",ce:n,pe:r})))):l.a.createElement("div",null)}var w=t(584),P=t(581),O=t(585),C=Object(p.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function j(e){var a=e.changeDate,t=C(),n=l.a.useState(""),r=Object(i.a)(n,2),c=r[0],o=r[1],s=l.a.useState([]),p=Object(i.a)(s,2),u=p[0],d=p[1],E=l.a.useRef(null);l.a.useEffect((function(){h()}),[]);var h=function(){var e,a,t;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.a.awrap(y({url:"https://api.optionalgo.in:6001/v1/getdates",method:"post",bodyParams:{}}));case 3:e=n.sent,a=e.data,t=e.success,console.log(e),t&&d(a),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),null,null,[[0,9]])};return l.a.createElement("div",{className:t.root},l.a.createElement(f.a,{variant:"outlined",className:t.formControl},l.a.createElement(w.a,{ref:E,id:"demo-simple-select-outlined-label"},"Select Date"),l.a.createElement(P.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:c,onChange:function(e){o(e.target.value),a(e.target.value)},className:t.selectEmpty},u.map((function(e,a){return l.a.createElement(O.a,{value:e,key:e},e)})))))}var N=Object(p.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function S(e){var a=e.changeIndex,t=N(),n=l.a.useState(""),r=Object(i.a)(n,2),c=r[0],o=r[1],s=l.a.useRef(null);return l.a.createElement("div",{className:t.root},l.a.createElement(f.a,{variant:"outlined",className:t.formControl},l.a.createElement(w.a,{ref:s,id:"demo-simple-select-outlined-label"},"Select Index"),l.a.createElement(P.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:c,onChange:function(e){o(e.target.value),a(e.target.value)},className:t.selectEmpty},["NIFTY","BANKNIFTY"].map((function(e,a){return l.a.createElement(O.a,{value:e},e)})))))}var I=t(580),T=Object(p.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function D(e){var a=e.strikeprice,t=e.strikeprice2,n=e.date,r=e.index,c=e.type,o=T(),s=l.a.useState(0),p=Object(i.a)(s,2),u=p[0],d=p[1],E=l.a.useState([]),h=Object(i.a)(E,2),g=h[0],v=h[1],b=l.a.useState([]),k=Object(i.a)(b,2),x=k[0],_=k[1];l.a.useEffect((function(){!function(){var e,a,t;m.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,m.a.awrap(y({url:"https://api.optionalgo.in:6001/v1/getstrikeprices",method:"post",bodyParams:{date:n,pointtype:c,stockname:r}}));case 3:e=l.sent,a=e.data,t=e.success,console.log(e),t&&v(a),l.next=11;break;case 9:l.prev=9,l.t0=l.catch(0);case 11:case"end":return l.stop()}}),null,null,[[0,9]])}()}),[n,r,c]),l.a.useEffect((function(){var e=g.sort();"PE"===c&&(e=e.reverse()),_(e)}),[g,c]);var C=l.a.useRef(null);return""!==n&&""!==r&&0!==g.length?l.a.createElement("div",{className:o.root},l.a.createElement(f.a,{variant:"outlined",className:o.formControl},l.a.createElement(w.a,{ref:C,id:"demo-simple-select-outlined-label"},c," Price"),l.a.createElement(P.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:u,onChange:function(e){d(e.target.value),console.log(e.target.value),console.log(g[e.target.value]),a&&a(e.target.value),t&&t(e.target.value)},className:o.selectEmpty},x.map((function(e,a){return l.a.createElement(O.a,{value:e,key:e},e)}))))):l.a.createElement("div",null)}function B(e){var a=e.date,t=e.index,n=e.sPrice,r=e.lPrice,c=l.a.useState([]),s=Object(i.a)(c,2),p=s[0],u=s[1],d=l.a.useState([]),v=Object(i.a)(d,2),k=v[0],x=v[1],_=l.a.useState(21),w=Object(i.a)(_,2),P=w[0],O=w[1],C=l.a.useState(21),j=Object(i.a)(C,2),N=j[0],S=j[1];l.a.useEffect((function(){u([]),x([])}),[t,a,P]),l.a.useEffect((function(){var e=function(){var e,l,c,o,i,s,p,u,d,E;return m.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,console.log(a,t),f.next=4,m.a.awrap(y({url:"https://api.optionalgo.in:6001/v1/getdata",method:"post",bodyParams:{date:a,pointtype:"CE",stockname:t}}));case 4:if(e=f.sent,l=e.data,e.success){for(c=[],o=0,i=0,s=P,p=0;p<l.length;p++)u=l[p],d=u.time_hour_m_in_sec,E=u.indexprice,0===p&&n(E),p===l.length-1&&r(E),0===P?(o=E,i=E):s===P||0===s?(s=P,o=E,i=E,s-=1):(E>o&&(o=E),E<i&&(i=E),s-=1),c.push({time:d,price:E,height:[i,o]});x(c)}f.next=11;break;case 9:f.prev=9,f.t0=f.catch(0);case 11:case"end":return f.stop()}}),null,null,[[0,9]])};e();var l=setInterval((function(){e()}),6e4);return function(){return clearInterval(l)}}),[a,t,n,r,P]),l.a.useEffect((function(){!function(){if(0===p.length)u(k);else for(var e=p.length;e<k.length;e++)u([].concat(Object(o.a)(p),[k[e]]))}()}),[k,p]);return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("br",null)),l.a.createElement(E.e,{width:1e3,height:400},l.a.createElement(E.c,{width:1e3,height:400,data:p,margin:{top:5,right:20,bottom:5,left:0}},P>=2?l.a.createElement(E.a,{dataKey:"height",stroke:"#8884d8",fill:"#8884d8"}):null,l.a.createElement(E.d,{type:"monotone",dataKey:"price",stroke:"#8884d8"}),l.a.createElement(E.b,{stroke:"#ccc",strokeDasharray:"5 5"}),l.a.createElement(E.g,{dataKey:"time"}),l.a.createElement(E.h,{type:"number",allowDecimals:!0,allowDataOverflow:!0,domain:["dataMin-10","dataMax+10 "]}),l.a.createElement(E.f,{content:function(e){return e.active&&null!=e.payload&&null!=e.payload[0]?l.a.createElement("div",{className:"customTooltip"},l.a.createElement("div",{className:"tooltipContent"},l.a.createElement("p",null,"Price: ",e.payload[0].payload.price),l.a.createElement("p",null,"Time: ",e.payload[0].payload.time),l.a.createElement("p",null,"Low: ",e.payload[0].payload.height[0]),l.a.createElement("p",null,"Peak: ",e.payload[0].payload.height[1]))):""}}))),l.a.createElement("div",null,l.a.createElement(f.a,{variant:"outlined",style:{display:"flex",flexDirection:"row",justifyContent:"center"}},l.a.createElement(h.a,{id:"outlined-basic",label:"Points",variant:"outlined",defaultValue:21,onChange:function(e){S(e.target.value)},style:{padding:"1%"}}),l.a.createElement(g.a,{color:"primary","aria-label":"add",onClick:function(){O(N)},style:{padding:"1%"}},l.a.createElement(b.a,{onClick:function(){O(N)}})))))}var F=Object(p.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},position:"fixed",right:"5%",top:"25%",bottom:"auto",left:"auto",borderStyle:"groove",border:"gold",background:"black",color:"white"},extendedIcon:{marginRight:e.spacing(1)}}}));function K(e){var a=e.startPrice,t=e.lastPrice,n=(e.index,F());return l.a.createElement("div",{className:n.root},l.a.createElement("div",null,l.a.createElement("h6",null,l.a.createElement("div",{style:{color:"green"}},"Start Price:")," ",a),l.a.createElement("h6",null,l.a.createElement("div",{style:{color:"green"}},"Last Price:")," ",t)))}var L=t(227),W=t.n(L),q=function(){var e=l.a.useState(""),a=Object(i.a)(e,2),t=a[0],n=a[1],r=l.a.useState(""),c=Object(i.a)(r,2),p=c[0],u=c[1],d=l.a.useState(0),m=Object(i.a)(d,2),y=m[0],E=m[1],f=l.a.useState(0),h=Object(i.a)(f,2),v=h[0],k=h[1],x=l.a.useState(0),w=Object(i.a)(x,2),P=w[0],O=w[1],C=l.a.useState(0),N=Object(i.a)(C,2),T=N[0],F=N[1],L=l.a.useState([]),q=Object(i.a)(L,2),M=q[0],R=q[1];return l.a.createElement("div",{className:"home-body"},l.a.createElement(s.d,{className:" mt-5 pt-5"},l.a.createElement(I.a,{position:"static",style:{display:"flex",justifyContent:"center",color:"white"},color:"white"},l.a.createElement("div",{key:"div",className:"drop"},l.a.createElement(j,{key:"slm",changeDate:function(e){n(e),console.log(t)}}),l.a.createElement(S,{key:"ind",changeIndex:function(e){u(e),console.log(p)}}),""!==t&&""!==p?l.a.createElement(D,{key:"PE",strikeprice:function(e){k(e),console.log(v)},date:t,index:p,type:"PE"}):null,""!==t&&""!==p&&""!==v?l.a.createElement(D,{key:"CE",strikeprice2:function(e){E(e),console.log(y)},date:t,index:p,type:"CE"}):null,0!==y&&""!==v?l.a.createElement("div",{style:{background:"white",paddingRight:"1%"}},l.a.createElement(g.a,{color:"primary","aria-label":"add",style:{width:"50px",top:"20px"},onClick:function(){var e=t,a=p,n=y,r=v,c=l.a.createElement("div",null,l.a.createElement("h6",{style:{display:"flex",flexDirection:"row"}},l.a.createElement("div",{style:{color:"green"}},"CE Price: ")," ",n,l.a.createElement("div",{style:{flex:"1"}}),l.a.createElement("div",{style:{color:"green"}},"PE Price: ")," ",r),l.a.createElement(_,{date:e,index:a,pePrice:r,cePrice:n}));R([c].concat(Object(o.a)(M)))}},l.a.createElement(b.a,null))):null)),0!==P&&0!==T?l.a.createElement(K,{startPrice:P,lastPrice:T,index:p}):null,l.a.createElement("ul",{style:{listStyleType:"none",margin:"0",padding:"0"}},M.map((function(e,a){return l.a.createElement("li",{key:a,style:{paddingTop:"3%"}},e,l.a.createElement(g.a,{color:"primary",key:a,value:a,"aria-label":"remove",onClick:function(){return function(e){console.log(e);var a=M.filter((function(a,t){return t!==e}));console.log(a),R(a)}(a)},style:{width:"50px",top:"20px"}},l.a.createElement(W.a,{key:a,value:a})))}))),""!==t&&""!==p?l.a.createElement(B,{date:t,index:p,sPrice:function(e){O(e)},lPrice:function(e){F(e)}}):null))};var M=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(535),t(536),t(537);c.a.render(l.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[260,1,2]]]);
//# sourceMappingURL=main.af652831.chunk.js.map