(this.webpackJsonpstockapp=this.webpackJsonpstockapp||[]).push([[0],{205:function(e,t,a){},259:function(e,t,a){e.exports=a(537)},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},288:function(e,t,a){},537:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=(a(264),a(265),a(27)),i=a(11),s=(a(266),a(228)),u=a(4),p=a(581),d=a(579),m=a(580),f=(a(288),a(16)),v=a.n(f),E=(a(133),function(e){var t,a,n,r;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.url,a=e.method,n=e.bodyParams,l.next=3,v.a.awrap(fetch(t,{method:a,headers:{Accept:"application/json","Content-Type":"application/json"},body:n?JSON.stringify(n):void 0}));case 3:return r=l.sent,l.next=6,v.a.awrap(r.json());case 6:return l.abrupt("return",l.sent);case 7:case"end":return l.stop()}}))}),g=a(25),y=(a(205),a(572)),h=a(584),b=a(578),x=a(98),k=a.n(x);function _(e){var t=e.date,a=e.index,n=e.type,l=e.ce,c=e.pe,s=r.a.useState([]),u=Object(i.a)(s,2),p=u[0],d=u[1],m=r.a.useState([]),f=Object(i.a)(m,2),x=f[0],_=f[1],w=r.a.useState(21),j=Object(i.a)(w,2),P=j[0],O=j[1],C=r.a.useState(21),S=Object(i.a)(C,2),N=S[0],T=S[1];r.a.useEffect((function(){var e=function(){var e,r,o,i,s,u,p,d,m,f,g,y,h,b,x,k,w,j,O,C,S,N,T,I,F,D,W,B;return v.a.async((function(q){for(;;)switch(q.prev=q.next){case 0:return q.prev=0,q.next=3,v.a.awrap(E({url:"https://api.optionalgo.in:6001/v1/getdata",method:"post",bodyParams:{date:t,pointtype:n,stockname:a,strike_price_pe:c,strike_price_ce:l}}));case 3:if(e=q.sent,r=e.data,o=e.success,console.log(e),o){for(i=[],s=0,u=0,p=P,d=0;d<r.length;d++)for(m=r[d],f=m.time_hour_m_in_sec,g=m.indexprice,y=m.stock,h=0;h<y.length;h++)b={},"Both"!==n?(x=y[h],k=x.last_price,w=x.oi,j=x.expiry,O=x.strike_price,C=x.instrument_type,b={id:f,time:f,indexprice:g,last_price:k.toFixed(2),oi:w,expiry:j,strike_price:O,instrument_type:C}):(S=y[h],N=S.last_price,T=S.oi,I=S.strike_price_pe,F=S.strike_price_ce,D=S.last_price_ce,W=S.last_price_pe,B=S.instrument_type,p===P||0===p?(p=P,s=N.toFixed(2),u=N.toFixed(2),p-=1):(N>s&&(s=N.toFixed(2)),N<u&&(u=N.toFixed(2)),p-=1),b={id:i.length,time:f,last_price:N.toFixed(2),indexprice:g,oi:T,strike_price_ce:F,strike_price_pe:I,last_price_ce:D.toFixed(2),last_price_pe:W.toFixed(2),instrument_type:B,height:[u,s]}),0===h&&(console.log(i),i.push(b));_(i)}q.next=11;break;case 9:q.prev=9,q.t0=q.catch(0);case 11:case"end":return q.stop()}}),null,null,[[0,9]])};e();var r=setInterval((function(){e()}),6e4);return function(){return clearInterval(r)}}),[t,a,n,l,c,P]),r.a.useEffect((function(){d([]),_([])}),[t,a,n,l,c,P]),r.a.useEffect((function(){!function(){if(0===p.length)d(x);else for(var e=p.length;e<x.length;e++)d([].concat(Object(o.a)(p),[x[e]]))}()}),[x,p]);return r.a.createElement("div",null,r.a.createElement(g.f,{width:1e3,height:400},r.a.createElement(g.c,{width:1e3,height:400,data:p,margin:{top:5,right:20,bottom:5,left:0}},r.a.createElement(g.d,{type:"monotone",dataKey:"last_price",stroke:"#8884d8"}),P>=2?r.a.createElement(g.a,{dataKey:"height",stroke:"#8884d8",fill:"#8884d8"}):null,r.a.createElement(g.b,{stroke:"#ccc",strokeDasharray:"5 5"}),r.a.createElement(g.h,{dataKey:"time"}),r.a.createElement(g.i,{type:"number",allowDecimals:!0,allowDataOverflow:!0,domain:["dataMin-10","dataMax+10 "]}),r.a.createElement(g.g,{content:function(e){return e.active&&null!=e.payload&&null!=e.payload[0]&&"Both"!==n?r.a.createElement("div",{className:"custom-tooltip"},r.a.createElement("p",null,e.payload[0].payload.time),r.a.createElement("p",null,e.payload[0].payload.last_price),r.a.createElement("p",null,e.payload[0].payload.strike_price),r.a.createElement("p",null,e.payload[0].payload.indexprice)):e.active&&null!=e.payload&&null!=e.payload[0]&&"Both"===n?r.a.createElement("div",{className:"customTooltip"},r.a.createElement("div",{className:"tooltipContent"},r.a.createElement("p",null,"LTP: ",e.payload[0].payload.last_price),r.a.createElement("p",null,"Puts Price: ",e.payload[0].payload.strike_price_pe),r.a.createElement("p",null,"Call Price: ",e.payload[0].payload.strike_price_ce),r.a.createElement("p",null,"Puts Last Price: ",e.payload[0].payload.last_price_pe),r.a.createElement("p",null,"Call Last Price: ",e.payload[0].payload.last_price_ce),r.a.createElement("p",null,"Time: ",e.payload[0].payload.time),r.a.createElement("p",null,"Low: ",e.payload[0].payload.height[0]),r.a.createElement("p",null,"Peak: ",e.payload[0].payload.height[1]))):""}}))),r.a.createElement("div",null,r.a.createElement(y.a,{variant:"outlined",style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(h.a,{id:"outlined-basic",label:"Points",variant:"outlined",defaultValue:21,onChange:function(e){T(e.target.value)},style:{padding:"1%"}}),r.a.createElement(b.a,{color:"primary","aria-label":"add",onClick:function(){O(N)},style:{padding:"1%"}},r.a.createElement(k.a,{onClick:function(){O(N)}})))))}function w(e){var t=e.children,a=e.value,n=e.index,l=e.date,c=e.indexType,o=e.ce,i=e.pe,s=Object(u.a)(e,["children","value","index","date","indexType","ce","pe"]);return r.a.createElement(d.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},s),a===n&&r.a.createElement(m.a,{p:3,style:{marginTop:"10px"}},r.a.createElement(_,{date:l,index:c,type:t,ce:o,pe:i})))}var j=Object(p.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper}}}));function P(e){var t=e.date,a=e.index,n=e.cePrice,l=e.pePrice,c=j(),o=r.a.useState(0),s=Object(i.a)(o,2),u=s[0];s[1];return""!==t&&""!==a&&0!==n&&0!==l?(console.log(t),console.log(" "!==t),r.a.createElement("div",{className:c.root},r.a.createElement(w,{value:u,date:t,indexType:a,ce:n,pe:l,index:0},"Both"),r.a.createElement(w,{value:u,date:t,indexType:a,ce:n,index:1},"CE"),r.a.createElement(w,{value:u,date:t,indexType:a,pe:l,index:2},"PE"))):r.a.createElement("div",null)}var O=a(586),C=a(583),S=a(587),N=Object(p.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function T(e){var t=e.changeDate,a=N(),n=r.a.useState(""),l=Object(i.a)(n,2),c=l[0],o=l[1],s=r.a.useState([]),u=Object(i.a)(s,2),p=u[0],d=u[1],m=r.a.useRef(null);r.a.useEffect((function(){f()}),[]);var f=function(){var e,t,a;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.a.awrap(E({url:"https://api.optionalgo.in:6001/v1/getdates",method:"post",bodyParams:{}}));case 3:e=n.sent,t=e.data,a=e.success,console.log(e),a&&d(t),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),null,null,[[0,9]])};return r.a.createElement("div",{className:a.root},r.a.createElement(y.a,{variant:"outlined",className:a.formControl},r.a.createElement(O.a,{ref:m,id:"demo-simple-select-outlined-label"},"Select Date"),r.a.createElement(C.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:c,onChange:function(e){o(e.target.value),t(e.target.value)},className:a.selectEmpty},p.map((function(e,t){return r.a.createElement(S.a,{value:e},e)})))))}var I=Object(p.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function F(e){var t=e.changeIndex,a=I(),n=r.a.useState(),l=Object(i.a)(n,2),c=l[0],o=l[1],s=r.a.useRef(null);return r.a.createElement("div",{className:a.root},r.a.createElement(y.a,{variant:"outlined",className:a.formControl},r.a.createElement(O.a,{ref:s,id:"demo-simple-select-outlined-label"},"Select Index"),r.a.createElement(C.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:c,onChange:function(e){o(e.target.value),t(e.target.value)},className:a.selectEmpty},["NIFTY","BANKNIFTY"].map((function(e,t){return r.a.createElement(S.a,{value:e},e)})))))}var D=a(582),W=Object(p.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function B(e){var t=e.strikeprice,a=e.strikeprice2,n=e.date,l=e.index,c=e.type,o=W(),s=r.a.useState(0),u=Object(i.a)(s,2),p=u[0],d=u[1],m=r.a.useState([]),f=Object(i.a)(m,2),g=f[0],h=f[1],b=r.a.useState([]),x=Object(i.a)(b,2),k=x[0],_=x[1];r.a.useEffect((function(){!function(){var e,t,a;v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v.a.awrap(E({url:"https://api.optionalgo.in:6001/v1/getstrikeprices",method:"post",bodyParams:{date:n,pointtype:c,stockname:l}}));case 3:e=r.sent,t=e.data,a=e.success,console.log(e),a&&h(t),r.next=11;break;case 9:r.prev=9,r.t0=r.catch(0);case 11:case"end":return r.stop()}}),null,null,[[0,9]])}()}),[n,l,c]),r.a.useEffect((function(){var e=g.sort();"PE"===c&&(e=e.reverse()),_(e)}),[g,c]);var w=r.a.useRef(null);return""!==n&&""!==l&&0!==g.length?r.a.createElement("div",{className:o.root},r.a.createElement(y.a,{variant:"outlined",className:o.formControl},r.a.createElement(O.a,{ref:w,id:"demo-simple-select-outlined-label"},c," Price"),r.a.createElement(C.a,{labelId:"demo-simple-select-required-label",id:"demo-simple-select-required",value:p,onChange:function(e){d(e.target.value),console.log(e.target.value),console.log(g[e.target.value]),t&&t(e.target.value),a&&a(e.target.value)},className:o.selectEmpty},k.map((function(e,t){return r.a.createElement(S.a,{value:e},e)}))))):r.a.createElement("div",null)}function q(e){var t=e.date,a=e.index,n=e.sPrice,l=e.lPrice,c=r.a.useState([]),s=Object(i.a)(c,2),u=s[0],p=s[1],d=r.a.useState([]),m=Object(i.a)(d,2),f=m[0],y=m[1];return r.a.useEffect((function(){p([]),y([])}),[a,t]),r.a.useEffect((function(){var e=function(){var e,r,c,o,i,s,u;return v.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,console.log(t,a),p.next=4,v.a.awrap(E({url:"https://api.optionalgo.in:6001/v1/getdata",method:"post",bodyParams:{date:t,pointtype:"CE",stockname:a}}));case 4:if(e=p.sent,r=e.data,e.success){for(c=[],o=0;o<r.length;o++)i=r[o],s=i.time_hour_m_in_sec,u=i.indexprice,0===o&&n(u),o===r.length-1&&l(u),c.push({time:s,price:u});y(c)}p.next=11;break;case 9:p.prev=9,p.t0=p.catch(0);case 11:case"end":return p.stop()}}),null,null,[[0,9]])};e();var r=setInterval((function(){e()}),6e4);return function(){return clearInterval(r)}}),[t,a,n,l]),r.a.useEffect((function(){!function(){if(0===u.length)p(f);else for(var e=u.length;e<f.length;e++)p([].concat(Object(o.a)(u),[f[e]]))}()}),[f,u]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("br",null)),r.a.createElement(g.e,{width:1e3,height:400,data:u,margin:{top:5,right:20,bottom:5,left:20}},r.a.createElement(g.d,{type:"monotone",dataKey:"price",stroke:"#8884d8"}),r.a.createElement(g.b,{stroke:"#ccc",strokeDasharray:"5 5"}),r.a.createElement(g.h,{dataKey:"time"}),r.a.createElement(g.i,{type:"number",domain:["dataMin-50","dataMax+50 "]}),r.a.createElement(g.g,null)))}var K=Object(p.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},position:"fixed",right:"5%",top:"25%",bottom:"auto",left:"auto",borderStyle:"groove",border:"gold",background:"black",color:"white"},extendedIcon:{marginRight:e.spacing(1)}}}));function L(e){var t=e.startPrice,a=e.lastPrice,n=(e.index,K());return r.a.createElement("div",{className:n.root},r.a.createElement("div",null,r.a.createElement("h6",null,r.a.createElement("div",{style:{color:"green"}},"Start Price:")," ",t),r.a.createElement("h6",null,r.a.createElement("div",{style:{color:"green"}},"Last Price:")," ",a)))}var R=a(227),M=a.n(R),A=function(){var e=r.a.useState(""),t=Object(i.a)(e,2),a=t[0],n=t[1],l=r.a.useState(""),c=Object(i.a)(l,2),u=c[0],p=c[1],d=r.a.useState(0),m=Object(i.a)(d,2),f=m[0],v=m[1],E=r.a.useState(0),g=Object(i.a)(E,2),y=g[0],h=g[1],x=r.a.useState(0),_=Object(i.a)(x,2),w=_[0],j=_[1],O=r.a.useState(0),C=Object(i.a)(O,2),S=C[0],N=C[1],I=r.a.useState([]),W=Object(i.a)(I,2),K=W[0],R=W[1];return r.a.createElement("div",{className:"home-body"},r.a.createElement(s.d,{className:" mt-5 pt-5"},r.a.createElement(D.a,{position:"static",style:{display:"flex",justifyContent:"center"},color:"white"},r.a.createElement("div",{className:"drop"},r.a.createElement(T,{changeDate:function(e){n(e),console.log(a)}}),r.a.createElement(F,{changeIndex:function(e){p(e),console.log(u)}}),""!==a&&""!==u?r.a.createElement(B,{strikeprice:function(e){h(e),console.log(y)},date:a,index:u,type:"PE"}):null,""!==a&&""!==u&&""!==y?r.a.createElement(B,{strikeprice2:function(e){v(e),console.log(f)},date:a,index:u,type:"CE"}):null,0!==f&&""!==y?r.a.createElement("div",{style:{background:"white",paddingRight:"1%"}},r.a.createElement(b.a,{color:"primary","aria-label":"add",style:{width:"50px",top:"20px"},onClick:function(){var e=a,t=u,n=f,l=y,c=r.a.createElement("div",null,r.a.createElement("h6",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{color:"green"}},"CE Price: ")," ",n,r.a.createElement("div",{style:{flex:"1"}}),r.a.createElement("div",{style:{color:"green"}},"PE Price: ")," ",l),r.a.createElement(P,{date:e,index:t,pePrice:l,cePrice:n}));R([c].concat(Object(o.a)(K)))}},r.a.createElement(k.a,null))):null)),0!==w&&0!==S?r.a.createElement(L,{startPrice:w,lastPrice:S,index:u}):null,r.a.createElement("ul",{style:{listStyleType:"none",margin:"0",padding:"0"}},K.map((function(e,t){return r.a.createElement("li",{key:t,style:{paddingTop:"3%"}},e,r.a.createElement(b.a,{color:"primary",key:t,value:t,"aria-label":"remove",onClick:function(){return function(e){console.log(e);var t=K.filter((function(t,a){return a!==e}));console.log(t),R(t)}(t)},style:{width:"50px",top:"20px"}},r.a.createElement(M.a,{key:t,value:t})))}))),""!==a&&""!==u?r.a.createElement(q,{date:a,index:u,sPrice:function(e){j(e)},lPrice:function(e){N(e)}}):null))};var J=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(534),a(535),a(536);c.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[259,1,2]]]);
//# sourceMappingURL=main.ceab7f15.chunk.js.map